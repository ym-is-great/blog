 
<html>
  <head>
    <title>海外主流社交 APP 分享指南</title>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
    <link rel="stylesheet" href="//at.alicdn.com/t/font_2235676_71rm12z746w.css">
    <link rel="stylesheet" href="/libs/prism/prism.default.css">
    <link rel="stylesheet" href="/css/index.css">
  <meta name="generator" content="Hexo 5.2.0"></head>
  <body ontouchstart="">
    <div class="head">
  <div class="header">
    <div class="title">
      <a href="./"></a>
        ymcai
        <!-- <img src="/img/site_title.png"> -->
      </a>
    </div>
    <div class="menu">
      <a href="/">
        <span class="menu-item">首页</span>
      </a>
      <a href="/categories">
        <span class="menu-item">分类</span>
      </a>
      <a href="/about">
        <span class="menu-item">关于</span>
      </a>
    </div>
  </div>
</div>
    <div class="body">
  <div class="container">
     

<div class="post-header">
  <h1 class="post-title">海外主流社交 APP 分享指南</h1>
  <div class="post-meta">
    <span>2018-11-15</span>
    
    <a class="post-meta-category" href="/categories/web-front-end">Web 前端</a>
    
  </div>
</div>
<div class="post-body">
  <h2 id="了解开放图谱"><a href="#了解开放图谱" class="headerlink" title="了解开放图谱"></a>了解开放图谱</h2><p>一个被分享到社交平台的网页，通常以包含标题、描述和缩略图等摘要的卡片形式显示。网页的内容千差万别，用户想要分享的可能是一篇文章，一首歌，亦或是一部电影。社交平台该如何呈现分享内容才能兼具准确和美观呢？</p>
<a id="more"></a>

<img src="/img/posts/2018/11/open_graph.jpg" class="" width="450" title="开放图谱">

<p>开放图谱（<a target="_blank" rel="noopener" href="http://www.ogp.me/">Open Graph</a>）是 Facebook 公司创造的一种通讯协议，它使任何网页都能成为社交网络中的富对象（具有标题、描述等属性的数据实体）。简单地说，Web 开发者在网页中使用标记语言设置分享内容，网页被用户分享，Facebook 抓取网页上的分享内容，经过加工后显示在页面上。</p>
<p>开放图谱能够带给用户更好的社交体验。举个例子，当用户分享一个视频网站的播放页面 Foo，实际上想要分享的是上面的视频 Bar。在网页标记了视频链接的情况下，Facebook 能够直接显示可播放的视频 Bar，而不需要用户再跳转到网页 Foo 浏览。</p>
<p>目前海外主流的社交软件基本上都支持开放图谱。有了它，我们能够控制网页在社交网络上展示的形式和内容。</p>
<p>在网页的 <code>head</code> 中使用 <code>meta</code> 标签添加开放图谱标记：</p>
<pre class="line-numbers language-html" data-language="html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>head</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>title</span><span class="token punctuation">></span></span>Example Page<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>title</span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:url<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:type<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>website<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:title<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>Introducing AI Retouch<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:description<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>I am using BeautyPlus ...<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>meta</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>og:image<span class="token punctuation">"</span></span> <span class="token attr-name">content</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>https://example.com/image.jpg<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  ...
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>head</span><span class="token punctuation">></span></span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>上面的开放图谱标记声明了用户分享的是一个网页，并且提供了标题、描述和图片供社交平台展示。</p>
<p>更多开放图谱骚操作请阅读 Facebook <a target="_blank" rel="noopener" href="https://developers.facebook.com/docs/sharing/webmasters/?translation">网站管理员分享指南</a> 。</p>
<h2 id="分享到-Facebook"><a href="#分享到-Facebook" class="headerlink" title="分享到 Facebook"></a>分享到 Facebook</h2><p>首先，在 Facebook 开发者平台上 <a target="_blank" rel="noopener" href="https://developers.facebook.com/apps/">创建应用</a> 获得 <code>AppId</code> ，在网页中 <a target="_blank" rel="noopener" href="https://developers.facebook.com/docs/javascript/quickstart">加载和初始化 SDK</a> 。</p>
<p>在需要分享内容的时候调起分享对话框：</p>
<pre class="line-numbers language-js" data-language="js"><code class="language-js">window<span class="token punctuation">.</span><span class="token constant">FB</span><span class="token punctuation">.</span><span class="token function">ui</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span>
  method<span class="token operator">:</span> <span class="token string">'share'</span><span class="token punctuation">,</span>
  quote<span class="token operator">:</span> <span class="token string">'some text'</span><span class="token punctuation">,</span>          <span class="token comment">// 引文</span>
  hashtag<span class="token operator">:</span> <span class="token string">'#frontend'</span><span class="token punctuation">,</span>        <span class="token comment">// 话题</span>
  href<span class="token operator">:</span> <span class="token string">'https://example.com'</span>  <span class="token comment">// 链接</span>
<span class="token punctuation">&#125;</span><span class="token punctuation">)</span><span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>

<p>随后页面将跳转到 Facebook 的发帖页面。</p>
<h2 id="分享到-Twitter"><a href="#分享到-Twitter" class="headerlink" title="分享到 Twitter"></a>分享到 Twitter</h2><p>Twitter 提供了 <a target="_blank" rel="noopener" href="https://developer.twitter.com/en/docs/twitter-for-websites/web-intents/overview">Web Intents</a> 用于通过网页分享内容，只需使用户跳转到一个链接。</p>
<pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;twitter.com&#x2F;intent&#x2F;tweet?text&#x3D;&#123;推文&#125;&amp;hashtags&#x3D;&#123;话题&#125;&amp;url&#x3D;&#123;网页链接&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>可以自定义预设推文 <code>text</code> ，一个或一个以上用逗号分隔的话题 <code>hashtags</code> ，以及网页链接 <code>url</code> 。URL 需要用 <code>encodeURIComponent</code> 编码，否则可能出现跳转到 Twitter 后的链接不完整。</p>
<p>若用户安装了 App，唤醒客户端。否则通过网页版分享。</p>
<h2 id="分享到-Instagram"><a href="#分享到-Instagram" class="headerlink" title="分享到 Instagram"></a>分享到 Instagram</h2><p>很遗憾，目前 Instagram 暂时没有提供任何可靠的 Web 分享方式。</p>
<p>唯一可能有用的是，官方文档中提到的用于调起客户端功能的 <a target="_blank" rel="noopener" href="https://www.instagram.com/developer/mobile-sharing/iphone-hooks/">iPhone Hooks</a> —— 实际上就是深度链接（<a target="_blank" rel="noopener" href="https://en.wikipedia.org/wiki/Mobile_deep_linking">Deep Linking</a>）。对于分享图片的场景，可以先引导用户保存图片，然后用深度链接唤醒 Instagram App，最后由用户手动选择图片发帖。</p>
<pre class="line-numbers language-none"><code class="language-none">instagram:&#x2F;&#x2F;app<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<p>注意，经测试这些深度链接在 Android 设备上并不好使，很可能只在 iOS 平台实现。</p>
<h2 id="分享到-WhatsApp"><a href="#分享到-WhatsApp" class="headerlink" title="分享到 WhatsApp"></a>分享到 WhatsApp</h2><p>目前 WhatsApp 仅支持通过深度链接调起 App 的方式分享一段文本。幸运的是，我们可以把网页链接放在 <code>text</code> 中，分享后应用会依据开放图谱友好显示。</p>
<pre class="line-numbers language-none"><code class="language-none">whatsapp:&#x2F;&#x2F;send?text&#x3D;&#123;文本&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>
<h2 id="分享到-Line"><a href="#分享到-Line" class="headerlink" title="分享到 Line"></a>分享到 Line</h2><p>Line 提供了 <a target="_blank" rel="noopener" href="https://media.line.me/">Social Plugins</a> 用于分享网页，只需让用户跳转到一个链接。跳转后会唤醒 App 或者进入网页版 —— 取决于用户是否安装了客户端。</p>
<pre class="line-numbers language-none"><code class="language-none">https:&#x2F;&#x2F;social-plugins.line.me&#x2F;lineit&#x2F;share?url&#x3D;&#123;网页链接&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

<h2 id="分享到-Facebook-Messenger"><a href="#分享到-Facebook-Messenger" class="headerlink" title="分享到 Facebook Messenger"></a>分享到 Facebook Messenger</h2><p>Messenger App 提供了用于分享的深度链接，允许发送一个网页。</p>
<pre class="line-numbers language-none"><code class="language-none">fb-messenger:&#x2F;&#x2F;share&#x2F;?link&#x3D;&#123;网页链接&#125;<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre>

</div>

<div class="page-footer">
  <div class="page-footer-links">
    <a class="page-footer-link" href="javascript:history.back()">返回</a>
    
      <a class="page-footer-link" href="">
        下一篇：PixiJS 实战万圣节主题横版 H5
      </a>
     
  </div>
  <!-- 
    <div class="post-tags">
    
      <a class="post-tag">社交平台</a>
    
      <a class="post-tag">分享</a>
    
      <a class="post-tag">深度链接</a>
    
      <a class="post-tag">Deep Linking</a>
    
      <a class="post-tag">Facebook</a>
    
      <a class="post-tag">Twitter</a>
    
      <a class="post-tag">Instagram</a>
    
      <a class="post-tag">WhatsApp</a>
    
      <a class="post-tag">Line</a>
    
      <a class="post-tag">Messenger</a>
    
  </div>
   -->
</div>

  </div>
</div>
    <div class="foot">
  <div class="footer">
    <span class="copyright">©️2020 ymcai.xyz</span>
    <a href="http://www.beian.miit.gov.cn" target="_blank">粤ICP备20041235 </a>
  </div>
</div>

<script type="text/javascript">
function wrapTables() {
  var nodes = document.body.querySelectorAll('table');
  for (var i = 0; i < nodes.length; i++) {
    var table = nodes[i];
    var wrapEl = document.createElement('div');
    wrapEl.className = 'table-wrap';
    table.parentNode.replaceChild(wrapEl, table);
    wrapEl.appendChild(table)
  }
};
wrapTables();
</script>
  </body>
</html>