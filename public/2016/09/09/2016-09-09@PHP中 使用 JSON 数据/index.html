<html>
  <head>
    <title>ym</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <div class="head">
      <div class="header">
        <a href="/ ">
          <div class="site-title">YM</div>
        </a>
      </div>
    </div>
    <div class="body">
      <div class="content">
        PHP中 使用 JSON 数据 
<p>php5.2+ 提供了 <code>json_encode</code> 和 <code>json_decode</code> 方法进行 JSON 的编码和解码。</p>
<p><code>json_encode</code> 可将数组或对象转换成 JSON 格式数据，一般用到数组。下面是在数组中编辑好用户信息，然后转换成 JSON 格式数据。</p>
<a id="more"></a>

<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$arr = <span class="keyword">array</span> (<span class="string">'name'</span>=&gt;<span class="string">'mike'</span>,<span class="string">'age'</span>=&gt;<span class="string">'20'</span>,<span class="string">'from'</span>=&gt;<span class="string">'USA'</span>);</span><br><span class="line">$json =  json_encode($arr);</span><br><span class="line"><span class="keyword">echo</span> $json;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 输出内容</span></span><br><span class="line">&#123;<span class="string">"name"</span>:<span class="string">"mike"</span>,<span class="string">"age"</span>:<span class="string">"20"</span>,<span class="string">"from"</span>:<span class="string">"USA"</span>&#125;</span><br></pre></td></tr></table></figure>

<p><code>json_decode</code> 方法可将 JSON 格式数据转换成对象或数组，进而使用里面的数据。下面是两种方式输出用户名。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F; 解析为对象</span><br><span class="line">$obj &#x3D; json_decode($json);</span><br><span class="line">echo $obj-&gt;name;</span><br><span class="line"></span><br><span class="line">&#x2F;&#x2F; 解析为数组</span><br><span class="line">$arr &#x3D; json_decode($json,true);</span><br><span class="line">echo $arr[&#39;name&#39;];</span><br></pre></td></tr></table></figure>

<p>需要注意的是，如果是自己手写的 JSON 格式的字符串，在使用 <code>json_decode</code> 解析时可能会返回 null ，这基本上是因为 JSON 格式错误导致的，仔细检查字符串的格式即可。</p>
 
      </div>
    </div>
    <div class="foot">
      <div class="footer">
        <span class="copyright">©️2020 ym</span>
        <a href="http://www.beian.miit.gov.cn" target="_blank">粤ICP备20041235 </a>
      </div>
    </div>
  </body>
</html>