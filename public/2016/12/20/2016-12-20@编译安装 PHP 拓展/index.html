<html>
  <head>
    <title>ym</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <div class="head">
      <div class="header">
        <a href="/ ">
          <div class="site-title">YM</div>
        </a>
      </div>
    </div>
    <div class="body">
      <div class="content">
        编译安装 PHP 拓展 
<p>在使用 PHP 的过程中可能用到各种拓展，包括 mbstring 等。我们可以按需安装拓展，这里以 mbstring 为例演示如何编译安装拓展。</p>
<p>第一步，确认已安装必要依赖。</p>
<a id="more"></a>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y m4 autoconf</span><br></pre></td></tr></table></figure>

<p>第二步，编译安装 mbstring 拓展。进入 PHP 源码下的 ext/mbstring 目录，使用 phpize 编译拓展。注意第二行的路径指向的是已安装好的 PHP 目录下的 bin 文件夹中的 phpize 文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd ~&#x2F;php-7.1.0&#x2F;ext&#x2F;mbstring</span><br><span class="line">&#x2F;usr&#x2F;local&#x2F;php7.1&#x2F;bin&#x2F;phpize</span><br><span class="line">.&#x2F;configure -with-php-config&#x3D;&#x2F;usr&#x2F;local&#x2F;php7.1&#x2F;bin&#x2F;php-config</span><br><span class="line">make</span><br><span class="line">make install</span><br></pre></td></tr></table></figure>

<p>看到以下提示说明拓展安装成功，Linux 可在拓展目录下找到新增的 mbstring.so 文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Installing shared extensions:     &#x2F;usr&#x2F;local&#x2F;php7.1&#x2F;lib&#x2F;php&#x2F;extensions&#x2F;no-debug-zts-20160303&#x2F;</span><br><span class="line">Installing header files:           &#x2F;usr&#x2F;local&#x2F;php7.1&#x2F;include&#x2F;php&#x2F;</span><br></pre></td></tr></table></figure>

<p>第三步，编辑 php.ini ，启用相应的拓展，重启 Apache 。</p>
<p>相关环境：Aliyun ECS / CentOS 7 x64 / Apache 2.4 / PHP 7.1</p>
 
      </div>
    </div>
    <div class="foot">
      <div class="footer">
        <span class="copyright">©️2020 ym</span>
        <a href="http://www.beian.miit.gov.cn" target="_blank">粤ICP备20041235 </a>
      </div>
    </div>
  </body>
</html>