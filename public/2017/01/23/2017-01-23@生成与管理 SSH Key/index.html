<html>
  <head>
    <title>ym</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <div class="head">
      <div class="header">
        <a href="/ ">
          <div class="site-title">YM</div>
        </a>
      </div>
    </div>
    <div class="body">
      <div class="content">
        生成与管理 SSH Key 
<p>在使用 Git 的过程中经常需要用到 SSH Key 进行身份验证，即一组公钥、私钥文件，避免每次 Push 代码都需要输入密码。通常将公钥提供给 Github/OSChina 等代码托管平台，之后在使用 Git 提交代码时便会自动将云端的公钥与本地的私钥进行比对。无论是 Windows 还是 Linux 系统，SSH Key 都存放在 <code>~\.ssh</code> 目录下。</p>
<a id="more"></a>

<p>生成一组 SSH Key 只需：</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C <span class="string">"email@example.com"</span></span><br></pre></td></tr></table></figure>

<p>系统将提示你设置一个密码，可以直接回车跳过。如果给 SSH Key 设置了密码，通过 SSH 通讯时仍需输入此密码。</p>
<p>现在，<code>~\.ssh</code> 目录下应该已存在 id_rsa 和 id_rsa.pub 两个文件，使用以下命令可以查看公钥。</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p>如果你拥有多组 SSH Key ，分别用于不同的代码托管平台，那么需要在 ~/.ssh 录下创建一个名为 config 的配置文件，使Git在通讯时根据服务器域名判断使用哪一个密钥。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  HostName github.com</span><br><span class="line">  User your_name</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_github</span><br><span class="line"></span><br><span class="line">Host git.oschina.net</span><br><span class="line">  HostName git.oschina.net</span><br><span class="line">  User your_name</span><br><span class="line">  IdentityFile ~&#x2F;.ssh&#x2F;id_rsa_oschina</span><br></pre></td></tr></table></figure> 
      </div>
    </div>
    <div class="foot">
      <div class="footer">
        <span class="copyright">©️2020 ym</span>
        <a href="http://www.beian.miit.gov.cn" target="_blank">粤ICP备20041235 </a>
      </div>
    </div>
  </body>
</html>