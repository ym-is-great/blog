<html>
  <head>
    <title>ym</title>
    <meta charset="UTF-8">
    <link rel="stylesheet" type="text/css" href="/css/app.css">
  <meta name="generator" content="Hexo 4.2.1"></head>
  <body>
    <div class="head">
      <div class="header">
        <a href="/ ">
          <div class="site-title">YM</div>
        </a>
      </div>
    </div>
    <div class="body">
      <div class="content">
        使用 Hexo 搭建静态博客 
<p>Hexo 是一个开源博客框架，更准确地说，它是一个静态博客生成工具。你用 Markdown 写文章，然后交给 Hexo 生成纯静态的网页文件、自动部署到服务器。过程优雅，体验惬意。</p>
<a id="more"></a>

<h3 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h3><p>Hexo 使用 JavaScript（Node.js） 编译文件，需要安装 <a href="https://nodejs.org/" target="_blank" rel="noopener">Node.js</a> 。</p>
<p>Hexo 使用 Git Bash 执行命令，需要安装 <a href="https://git-scm.com/" target="_blank" rel="noopener">Git</a> 。</p>
<p>确保已安装 Node.js 和 Git ，在 Git Bash 中执行以下命令，全局安装 Hexo 。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -g hexo-cli</span><br></pre></td></tr></table></figure>

<h3 id="初始化"><a href="#初始化" class="headerlink" title="初始化"></a>初始化</h3><p>指定一个文件夹并初始化 Hexo ，该命令将在 my-hexo 文件夹下生成一个 Hexo 项目必要的文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo init my-hexo</span><br></pre></td></tr></table></figure>

<p>切换到 my-hexo 目录，然后安装依赖包。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">cd my-hexo</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure>

<p>得到的目录结构如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">.</span><br><span class="line">├── _config.yml   # 配置文件</span><br><span class="line">├── package.json</span><br><span class="line">├── scaffolds</span><br><span class="line">├── source        # 源文件</span><br><span class="line">|   ├── _drafts   # 草稿</span><br><span class="line">|   └── _posts    # 文章</span><br><span class="line">└── themes        # 主题</span><br></pre></td></tr></table></figure>
<p>_config.yml 是站点的配置文件。source 目录用于存放文章、图片等生成静态页面的原料。themes 目录用于存放主题，默认提供了 landscape 主题。</p>
<p>Hexo 将使用 source 目录下的资源文件，以及 themes 目录下的主题文件，混合生成静态页面文件，存放在 public 目录下。</p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>编辑站点配置文件 _config.yml ，添加一些基础信息。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">title:</span>        <span class="comment"># 标题</span></span><br><span class="line"><span class="attr">subtitle:</span>     <span class="comment"># 副标题</span></span><br><span class="line"><span class="attr">description:</span>  <span class="comment"># 描述</span></span><br><span class="line"><span class="attr">author:</span>       <span class="comment"># 作者</span></span><br><span class="line"><span class="attr">language:</span>     <span class="comment"># 语言</span></span><br><span class="line"><span class="attr">timezone:</span>     <span class="comment"># 时区</span></span><br><span class="line"><span class="attr">url:</span>          <span class="comment"># 链接</span></span><br></pre></td></tr></table></figure>

<h3 id="写文章"><a href="#写文章" class="headerlink" title="写文章"></a>写文章</h3><p>Hexo 提供 <code>new</code> 命令用于新建文章或页面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new [布局] &lt;标题&gt;</span><br></pre></td></tr></table></figure>

<p>使用 <code>new</code> 命令新建一篇文章。执行后将在 source\_posts 目录下生成一个 .md 文件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new post &#39;Hello World&#39;</span><br></pre></td></tr></table></figure>

<p>编辑 Hello-World.md ，使用 Markdown 语法撰写文章内容。</p>
<p>如果不希望文章直接发布，可以使用 draft 布局新建为草稿。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo new draft &#39;Hello World&#39;</span><br></pre></td></tr></table></figure>
<p>将指定的草稿发布为文章。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo publish post Hello-World.md</span><br></pre></td></tr></table></figure>

<p>除了 Markdown 语法，Hexo 还提供了从 Octopress（另一个博客框架）移植而来的标签插件，用于在文章中添加引述、图片、代码、视频、超链接等内容。（详见 <a href="https://hexo.io/docs/tag-plugins.html" target="_blank" rel="noopener">Tag Plugins</a>）</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#123;% codeblock lang:js %&#125;</span><br><span class="line">alert(&#39;Hello World!&#39;);</span><br><span class="line">&#123;% endcodeblock %&#125;</span><br></pre></td></tr></table></figure>

<h3 id="手动部署"><a href="#手动部署" class="headerlink" title="手动部署"></a>手动部署</h3><p>执行以下命令在 public 目录下生成静态页面。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure>

<p>直接将静态页面上传到服务器即可。</p>
<h3 id="Git-部署"><a href="#Git-部署" class="headerlink" title="Git 部署"></a>Git 部署</h3><p>Hexo 同时提供了其他较为优雅的部署方式，支持使用 Git、FTP 等方式自动部署到服务器。（详见 <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a>）</p>
<p>以 Git 方式为例，执行以下命令安装 deployer-git 模块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-git --save</span><br></pre></td></tr></table></figure>

<p>编辑配置文件，设置代码仓库。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">git</span></span><br><span class="line">  <span class="attr">repo:</span> <span class="string">&lt;repository</span> <span class="string">url&gt;</span>  <span class="comment"># 仓库链接</span></span><br><span class="line">  <span class="attr">branch:</span> <span class="string">[branch]</span>        <span class="comment"># 目标分支</span></span><br><span class="line">  <span class="attr">message:</span> <span class="string">[message]</span></span><br></pre></td></tr></table></figure>

<p>执行以下命令部署代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<h3 id="FTP-部署"><a href="#FTP-部署" class="headerlink" title="FTP 部署"></a>FTP 部署</h3><p>以 FTP 方式为例，执行以下命令安装 deployer-ftpsync 模块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-deployer-ftpsync --save</span><br></pre></td></tr></table></figure>

<p>编辑配置文件，设置 FTP 服务器。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">deploy:</span></span><br><span class="line">  <span class="attr">type:</span> <span class="string">ftpsync</span></span><br><span class="line">  <span class="attr">host:</span> <span class="string">&lt;host&gt;</span>      <span class="comment"># 主机地址</span></span><br><span class="line">  <span class="attr">user:</span> <span class="string">&lt;user&gt;</span>      <span class="comment"># 用户名</span></span><br><span class="line">  <span class="attr">pass:</span> <span class="string">&lt;password&gt;</span>  <span class="comment"># 密码</span></span><br><span class="line">  <span class="attr">remote:</span> <span class="string">[remote]</span>  <span class="comment"># 网站根目录</span></span><br><span class="line">  <span class="attr">port:</span> <span class="string">[port]</span>      <span class="comment"># 端口</span></span><br><span class="line">  <span class="attr">ignore:</span> <span class="string">[ignore]</span></span><br><span class="line">  <span class="attr">connections:</span> <span class="string">[connections]</span></span><br><span class="line">  <span class="attr">verbose:</span> <span class="string">[true|false]</span></span><br></pre></td></tr></table></figure>

<p>注意，该部署方式会删除服务器上的所有文件，再上传新的文件。部署配置中的 ignore 字段用于声明不希望被删除的文件。</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">ignore:</span> <span class="string">[</span> <span class="string">.htaccess,</span> <span class="string">.conf</span> <span class="string">]</span></span><br></pre></td></tr></table></figure>

<p>执行以下命令部署代码。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<h3 id="服务器"><a href="#服务器" class="headerlink" title="服务器"></a>服务器</h3><p>我们可以在本地启动一个 Web 服务器，实时预览文章的修改。</p>
<p>执行以下命令安装 server 模块。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-server --save</span><br></pre></td></tr></table></figure>

<p>使用 <code>server</code> 命令启动 Web 服务器。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<p>在浏览器中使用 <code>http://localhost:4000</code> 访问。</p>
 
      </div>
    </div>
    <div class="foot">
      <div class="footer">
        <span class="copyright">©️2020 ym</span>
        <a href="http://www.beian.miit.gov.cn" target="_blank">粤ICP备20041235 </a>
      </div>
    </div>
  </body>
</html>