---
title: Swift 语言学习笔记
date: 2018-12-08 23:49:50
categories:
  - iOS
tags:
  - Swift
  - iOS
---

## 变量与常量

Swift 使用 `var` 声明变量，使用 `let` 声明常量。常量是不会被修改的量，只能被赋值一次。

<!-- more -->

``` swift
var foo = 1
let bar = 1
```

Swift 是强静态类型的语言，具有类型推论（Type Inference）的特性，即在编译期自动推导出值的数据类型。简单的说，当你将一个变量赋值为 `1` 时，Swift 便认为它是整数型变量，此后修改它的值为其他类型会报错。

``` swift
var foo = 1
foo = 'Hello' // 错误
```

在变量声明时可以使用 `:` 显式地声明它的类型。

``` swift
var foo: String = 'Hello World!'
```

使用 `,` 可以在一个语句中声明多个变量。

``` swift
var foo = 1, bar = 2
var baz, qux: Int
```

## 数据类型

Swift 中的数据类型包括整型 `Int`，浮点型 `Float` 和 `Double`，布尔型 `Bool`，字符串 `String` 和元组 `Tuple`。

### 整型

声明一个整型。

``` swift
var foo = 1 // 普通整型
var bar: UInt = 1 // 无符号整型
```

为了便于阅读，可以使用 `_` 任意分隔数字。下划线并无实际意义，`foo` 的值仍是 `10000000`。

``` swift
var foo = 10_000_000
```

### 浮点型

Swift 中的浮点型包括 `Float` 和 `Double` 两种类型。`Double` 的精度更高，能够容纳更多小数位数。

声明一个浮点数，默认为 `Double` 类型。

``` swift
var foo = 1.23
```

显式地声明一个浮点数为 `Float` 或 `Double` 类型。

``` swift
var foo: Float = 1.23
var bar: Double = 1.23 
```

浮点数的小数部分同样支持用 `_` 分隔的表示方式。

``` swift
var foo = 0.123_456
```

### 布尔型

声明一个布尔型。

``` swift
var foo = true
var bar = false
```

### 字符串

在 Swift 中，字符串只能使用双引号表示。

声明一个字符串。

``` swift
var foo = "Hello"
```

使用 `+` 拼接字符串。

``` swift
print("He" + "llo") // Hello
```

使用 `\()` 在字符串中包含变量。

``` swift
var foo = "Swift"
print("Hello, \(foo)!") // Hello, Swift!
```

### 元组

元组是由多个值组成的复合值，其元素可以是任意类型，且彼此间不必是相同类型。

创建一个普通元组 `foo` 和带元素命名的 `bar`。元组 `foo` 使用从 0 开始的索引访问元素，元组 `bar` 使用元素名称访问元素。两者分别类似于 JavaScript 中的数组和对象。

``` swift
var foo = (1, 2)
var bar = (a: 1, b: 2)
```

显式地指定元组中每个元素的类型。

``` swift
var foo: (Int, Float) = (1, 1.0)
var bar: (a: Int, b: Float) = (a: 1, b: 1.0)
```

使用索引或名称访问元组中的元素。

``` swift
var foo = (a: 1, b: 2)
print(foo.0, foo.a) // 1 1
```

将一个普通元组分解成独立的变量或常量。

``` swift
var foo = (1, 2)
var (x, y) = foo
print(x, y) // 1 2
```

分解一个命名元组，并且使用 `_` 忽略用不到的元素。

``` swift
var foo = (a: 1, b: 2)
var (a, _) = foo
print(a) // 1
```

### 类型转换

Swift 不自动转换数据类型。两个不同数据类型计算时，需要显式地强制转换为相同的类型。举个栗子，当整数和小数相加时，使用 `Int()` 将浮点数强制转换为整数。

``` swift
var foo = 1
var bar = 1.0
var baz = foo + Int(bar)
```

## 控制流

使用 `if` 和 `switch` 实现条件语句，使用 `for-in`、`while`、`repeat-while` 实现循环语句。

## 条件

`if` 语句的条件不需要用 `()` 包裹。即使只有一个语句，`{}` 也不能省略。

``` swift
var foo = true
if foo {
  print("The value of foo is true")
} else {
  print("The value of foo is false")
}
```