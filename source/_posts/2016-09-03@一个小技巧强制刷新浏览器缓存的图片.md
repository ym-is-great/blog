---
title: 一个小技巧强制刷新浏览器缓存的图片
categories:
  - 前端
date: 2016-09-03 18:20:23
tags:
  - JavaScript
---

在服务器上的图片文件发生改变，但 img 的 src 保持不变的情况下，浏览器会直接读取缓存的图片文件，而不会重新加载图片。

虽然缓存有利于减少页面打开时间，但这在一些场景下是不适用的。比如用户修改了自己的头像，同一用户的头像文件的路径是固定的，由于浏览器使用了缓存，此时用户仍然只能看到之前的头像。那么该如何强制浏览器重新加载图片呢？

<!-- more -->

很简单，在图片发生改变时修改 src ，给图片的链接加一个随机参数即可。

``` js
image.src = '/img/example.jpg?t=' + Math.random();
```
